---
title: 《软件测试》课程笔记
date: 2025-02-19 15:52:41
categories: 课程笔记
tags:
  - 测试
index_img:
banner_img:
excerpt: ""
---

## L1 - 软件测试概述

### IMPORTANCE

- 经典航空事故案例、千年虫等 说明了软件测试的重要性

### CONCEPTS & GLOSSARY

- 软件测试：给程序一定的输入 对比预期输出和实际输出值
- RIPR Model 用于评估一个错误如何才能被观测到
  - Reachability
  - Infection
  - Propagation
  - Revealability
- Myers 准则
  - 越早测试越好
  - 避免让开发者本身进行测试
  - 测试用例=输入数据+预期输出（不可以是自己随意判断的）

## L2 - 基本理论与方法

### Non-Execution Based Testing

- 静态测试：不运行程序 通过检查代码、文档等来发现错误 比如程序员自己检查、代码审查、走查等
- 好处是可以在开发早期进行 尽早发现问题

### Execution Based Testing

- 动态测试：运行程序 通过测试用例来发现错误 包括黑盒测试、白盒测试、灰盒测试等
- 黑盒测试：不关心程序内部结构 只关心输入输出是否符合预期 需要一些测试用例设计技巧来保证覆盖率 比如等价类划分、边界值分析等
- 白盒测试：关心程序内部结构 通过代码覆盖率等指标来评估测试质量 通常需要关注代码的执行路径来设计测试用例 保证覆盖一些边缘情况 比如语句覆盖、分支覆盖等

### Formal Verification

- 形式化验证：通过数学方法来证明程序的正确性 通常用于安全性要求较高的场景 比如航空航天、金融等

### Other Methods

- Def-Use Test：检查变量的定义和使用是否正确
- Mutation Test：通过对程序进行小的变异来检查测试用例的质量
- Regression Test：检查修改代码后是否引入了新的错误
- Fault Stastic：统计错误的分布情况 比如标记重捕法来评估错误的百分比 用于证明测试的有效性
- Reliability Analysis：通过模型来评估软件的可靠性
- Clean Room：？

## L3 - 功能测试

### 边界测试

- 边界测试：测试输入输出的边界情况 即最大最小值、略大略小值以及正常值共 4N+1 个用例
- 依据：单缺陷假设 即假设一个缺陷往往只会导致一个错误
- 健壮性测试：在边界测试的基础上增加无效的异常值 共 6N+1 个用例
- 最坏情况测试：拒绝单缺陷假设 每个维度取 5 个值进行笛卡尔积 共 5^N 个用例 如果需要健壮性 变为 7^N 个用例
- 随机测试：随机生成输入值进行测试 避免人为的测试偏见

### 等价类测试

- 等价类划分：将输入域划分为若干等价类 每个等价类只需要测试一个代表值
- 弱一般等价类（单缺陷）：测试数取等价类最多的维度 可以保证覆盖每个维度的所有划分
- 强一般等价类（多缺陷）：测试数取每个维度划分数的乘积 可以保证覆盖所有可能的组合
- 弱健壮等价类：在弱一般等价类的基础上增加无效值 即每个维度的最大划分和最小划分的外部值 当需要定位错误时 可以增加无效值组合
- 强健壮等价类：在强一般等价类的基础上增加无效值的所有组合

### 基于决策表的测试

- 决策表：描述输入输出之间的关系 包括条件部分和动作部分
- 决策表测试：通过决策表来设计测试用例 保证覆盖所有可能的组合 有时会因为条件太多而导致测试用例数过多

### 测试效率

- 测试用例数：边界测试<等价类测试<决策表测试 同理精细度也是如此

### 指导方针

- 变量是物理量：边界值测试、等价类测试
- 变量是逻辑量：等价类测试、决策表测试
- 变量独立：边界值测试、等价类测试
- 变量不独立：决策表测试
- 单缺陷假设：边界值测试、健壮性测试
- 多缺陷假设：最坏情况测试、决策表测试
- 包含大量例外处理：健壮性测试、决策表测试

## L4 - 结构测试

- 结构测试即根据程序内部逻辑结构进行的白盒测试 其目的是提高测试覆盖率

### 路径测试

- 程序图：描述程序的控制流程的有向图 点表示语句块 边表示控制流 即 i->j 表示 i 执行后 j 可以立马执行
- DD-路径图：一个程序可能会被表示为不同的程序图 但是都可以简化为唯一的 DD-路径图
  - DD-路径：程序图中最小独立的路径 可能有以下几种情况
    - 单个源点或单个汇点
    - 单个入度>=2 或出度>=2 的节点
    - 单个入度=1 且出度=1 的节点
    - 长度>=2 的最长路径
- 测试覆盖指标（部分）
  - 语句覆盖：执行每个语句块至少一次
  - 分支覆盖：执行每个 DD-路径至少一次 即每个判断的真假至少执行一次
  - 条件覆盖：每个判断的不同条件至少执行一次
  - 多条件覆盖：每个判断的所有条件组合至少执行一次
  - 分支/条件覆盖：分支覆盖+条件覆盖
  - 无穷路径覆盖：所有可能的路径至少执行一次
  - 循环覆盖：单循环、嵌套循环、级联循环等
- McCabe 圈数
  - 基路径：类似于基向量 是可以表示程序所有路径的某一组独立路径
    - 基路径必须从起始点到终止点
    - 一条基路径必须包含一条其他所有基路径未包含的边或节点
    - 对于循环 基路径应该包含不执行循环和执行一次循环的路径
  - 圈复杂度：用于定量计算基路径数量的复杂度指标
  - 公式：V(G) = E - N + 2P 其中 E 为边数 N 为节点数 P 为连通分量数（非强连通有向图 如果是强连通 2P 改为 P）
  - 基路径的线性组合只具有数学意义 即加法是路径 i 后接路径 j 乘法是路径的重复执行 减法是去除路径中的边
  - 基路径的寻找基于图的遍历算法 比如dfs和bfs
  - 对于所有基路径进行测试后 可以认为所有路径都被覆盖了
  - 基本复杂度：一般而言 一个单元模块的复杂度<10
- 
